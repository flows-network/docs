"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[783],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>h});var s=o(7294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t){if(null==e)return{};var o,s,i=function(e,t){if(null==e)return{};var o,s,i={},n=Object.keys(e);for(s=0;s<n.length;s++)o=n[s],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)o=n[s],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var l=s.createContext({}),u=function(e){var t=s.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):r(r({},t),e)),o},c=function(e){var t=u(e.components);return s.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},p=s.forwardRef((function(e,t){var o=e.components,i=e.mdxType,n=e.originalType,l=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),p=u(o),h=i,b=p["".concat(l,".").concat(h)]||p[h]||d[h]||n;return o?s.createElement(b,r(r({ref:t},c),{},{components:o})):s.createElement(b,r({ref:t},c))}));function h(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=o.length,r=new Array(n);r[0]=p;var a={};for(var l in t)hasOwnProperty.call(t,l)&&(a[l]=t[l]);a.originalType=e,a.mdxType="string"==typeof e?e:i,r[1]=a;for(var u=2;u<n;u++)r[u]=o[u];return s.createElement.apply(null,r)}return s.createElement.apply(null,o)}p.displayName="MDXCreateElement"},5851:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>n,metadata:()=>a,toc:()=>u});var s=o(7462),i=(o(7294),o(3905));const n={sidebar_position:2},r="Streamline and automate GitHub Issue responses",a={unversionedId:"cookbook/github/issue-review-bot",id:"cookbook/github/issue-review-bot",title:"Streamline and automate GitHub Issue responses",description:"GitHub issues is an important channel for software development teams to receive product feedbacks, feature requests, and bug reports from users. A typical workflow of an issue starts from a review from the project owner or lead developer. If the issue is valid, it will be tagged (categorized), scheduled and assigned to a developer on the team. The developer then work on it, update it, and create a PR to close the issue.",source:"@site/docs/cookbook/github/issue-review-bot.md",sourceDirName:"cookbook/github",slug:"/cookbook/github/issue-review-bot",permalink:"/docs/cookbook/github/issue-review-bot",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cookbook/github/issue-review-bot.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Reduce alert fatigue through GitHub notification triage",permalink:"/docs/cookbook/github/github-notification"},next:{title:"DevRel automation with GitHub",permalink:"/docs/cookbook/github/devrel-engagement"}},l={},u=[{value:"The use case",id:"the-use-case",level:3},{value:"The solution",id:"the-solution",level:3},{value:"Next steps",id:"next-steps",level:3}],c={toc:u};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,s.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"streamline-and-automate-github-issue-responses"},"Streamline and automate GitHub Issue responses"),(0,i.kt)("p",null,"GitHub issues is an important channel for software development teams to receive product feedbacks, feature requests, and bug reports from users. A typical workflow of an issue starts from a review from the project owner or lead developer. If the issue is valid, it will be tagged (categorized), scheduled and assigned to a developer on the team. The developer then work on it, update it, and create a PR to close the issue."),(0,i.kt)("p",null,"The issue tracker is the focal point of the entire software development team. GitHub bots can automate the issue review workflow and improve the team\u2019s productivity and response time. However, the traditional approach to create a GitHub bot requires developers to set up a webhook server and to interact with the GitHub web API directly (eg to explicitly authenticate every request)."),(0,i.kt)("p",null,"Flows.network provides a serverless platform for developers to create github bots. You can simply upload the issue review and triage logic in a function. In this tutorial, I will give a concrete example in Rust. "),(0,i.kt)("h3",{id:"the-use-case"},"The use case"),(0,i.kt)("p",null,"A software development team typically standardize their GitHub issues into several categories. Each category is represented by a tag, such as ",(0,i.kt)("inlineCode",{parentName:"p"},"docs"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"bug"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"CI"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"paltform"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"core")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"feature request")," etc. The project team could require all issues to be tagged properly in the title. For example, below is an appropriate title for a docs issue. "),(0,i.kt)("p",null,"Docs: missing link is a well-formed issue title."),(0,i.kt)("p",null,"We want to build an bot that automatically checks and validates the title. If the title does not conform to the standard format, or starts with an unknown tag, the bot will ask the submitter to change it. If the issue looks good, the bot will assign it to a designated reviewer for further triage. "),(0,i.kt)("h3",{id:"the-solution"},"The solution"),(0,i.kt)("p",null,"We can create a flow function on flows.network. It is triggered by a Github Issue event, and then sends its responses back to GitHub to update the Issue. "),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"I assumed that you have basic knowledge of the concepts of the flows.network. If not, please check out ",(0,i.kt)("a",{parentName:"p",href:"docs/category/getting-started"},"Getting Started")," first.")),(0,i.kt)("p",null,"We select GitHub as the inbound connector and authenticate it's access to flows.network. It is triggered by \u201cactivity related to an issue\u201d. The following figure shows how to configure the inbound connector on flows.network. "),(0,i.kt)("p",null,(0,i.kt)("img",{src:o(7302).Z,width:"1612",height:"986"})),(0,i.kt)("p",null,"The outbound connector is GitHub as well. The action is to create a comment and/or assign the issue to a reviewer. The following figure shows how to configure the outbound connector."),(0,i.kt)("p",null,(0,i.kt)("img",{src:o(4532).Z,width:"1516",height:"968"})),(0,i.kt)("p",null,"Next, upload the Rust serverless function to validate the issue title against our triage rules. ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/second-state/flow-functions/tree/main/github/github/issue-review-notifier/rust"},"The complete code")," is on GitHub. "),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The Rust code needs to be complied to Wasm file before uploading. Refer to ",(0,i.kt)("a",{parentName:"p",href:"https://docs.flows.network/docs/getting-started/rust/understand-the-flow-function-in-rust"},"this article")," for more details.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'    if is_compliant {\n        bodies.push(format!(\n            "Thank you @{} for submitting this issue! It has been assigned to {}",\n            sender,\n            assignees_str\n        ));\n    } else {\n        bodies.push(format!("This issue title is not compliant with our community rules. @{}, please\n     update it. Valid types: docs, ci, platforms.", sender));\n    }\n')),(0,i.kt)("p",null,"Finally, click on the enable button to start listening for events and webhook requests from the inbound connector (ie Github issue events). "),(0,i.kt)("p",null,"That's it. The figure below shows how the complete flow works. The reviewer is assigned if the issue title is valid. The bot will ask the Issue submitter to edit the title if the title doesn't meet its requirements."),(0,i.kt)("p",null,(0,i.kt)("img",{src:o(1972).Z,width:"2016",height:"1194"})),(0,i.kt)("h3",{id:"next-steps"},"Next steps"),(0,i.kt)("p",null,"The above example only shows a simple use case. Since the flow function on flows.network can make web services requests, you can do a lot more by writing code!"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If the issue matches the issue template, then send it to slack channel.  (The outbound connector would be Slack instead of GitHub in this case)"),(0,i.kt)("li",{parentName:"ul"},"Automatically assign labels based on keywords in the issue title. "),(0,i.kt)("li",{parentName:"ul"},"Convert a slack message to a github issue.  (The inbound connector would be Slack instead of GitHub in this case) "),(0,i.kt)("li",{parentName:"ul"},"When a  github issue is added to a milestone, then create the same issue in Jira. (The outbound connector would be Jira instead of GitHub in this case)"),(0,i.kt)("li",{parentName:"ul"},"and many more ")),(0,i.kt)("p",null,"We will add more examples soon. Stay tuned. If you have ideas to share with us, don't hesitate to let us know by filling in ",(0,i.kt)("a",{parentName:"p",href:"https://forms.gle/2V7RvpUK4BGQrBUZ6"},"this form"),"."))}d.isMDXComponent=!0},7302:(e,t,o)=>{o.d(t,{Z:()=>s});const s=o.p+"assets/images/issue-review-bot-inbound-b6cb4ca9218e4ba7505b4e4ef13159c5.jpg"},4532:(e,t,o)=>{o.d(t,{Z:()=>s});const s=o.p+"assets/images/issue-review-bot-outbound-8d87a75c375de1155e9bb1e962f89e53.jpg"},1972:(e,t,o)=>{o.d(t,{Z:()=>s});const s=o.p+"assets/images/issue-review-bot-outcome-649e30fab396916d9604b47698e68f59.jpg"}}]);